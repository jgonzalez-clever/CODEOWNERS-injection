name: Add File to Another Repo

on:
    workflow_dispatch:

jobs:
  add-file:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout current repo
        uses: actions/checkout@v2

      - name: Add File to Another Repo
        env:
          GH_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          REPO_URL="https://jgonzalez-clever:${{ secrets.GH_PAT }}@github.com/jgonzalez-clever/update_codeowners.git"  # reemplaza con la URL de tu otro repositorio
          git clone $REPO_URL other-repo
          cp ./codeowners_template.txt other-repo/./github/codeowners_template.txt
          cd other-repo
          git config user.email "actions@github.com"
          git config user.name "GitHub Actions"
          git add .
          git commit -m "Add file from GitHub Actions"
          git push origin main  
